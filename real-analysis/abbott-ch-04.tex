\section{Functional Limits and continuity}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Functional Limits}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Exercises}

%%%%%%%%%%%%%%%%%%%%%%%%%
\textbf{4.2.1}
\\

\begin{enumerate}[(a)]

\item Supply the details for how Corollary 4.2.4 part (ii) follows from the Sequential Criterion for Functional
Limits in Theorem 4.2.3 and the Algebraic Limit Theorem for sequences proved in Chapter 2.
\\

For reference, the Algebraic Limit Theorem is Theorem 2.3.3.

The Sequential Criterion for Functional Limits here tells us that since we know that since
$\lim_{x\rightarrow c} f(x_n) \rightarrow L$ and
$\lim_{x\rightarrow c} g(x_n) \rightarrow M$,
then we know that $(x_n) \rightarrow c$ ($x_n \neq c$ for all $n$)
and that $f(x_n) \rightarrow L$ and $g(x_n) \rightarrow M$.

Since the later two expressions are sequences on their own, we can use now the Algebraic Limit Theorem,
$\lim \left(a_n + b_n\right) = a+b$, implying that
$\lim_{x\rightarrow c} \left( f(x_n) + f(x_n)\right) \rightarrow L + M$.


\item Now, write another proof of Corollary 4.2.4 part (ii) directly from Definition 4.2.1 without using the
Sequential Criterion for Functional Limits in Theorem 4.2.3.

To do the same proof without the Sequential Criterion for Functional Limits we ought to go back to $\epsilon-\delta$ proofs.

Since we know that $\lim_{x\rightarrow c} f(x_n) \rightarrow L$ and
$\lim_{x\rightarrow c} g(x_n) \rightarrow M$, then we can define a $\delta_f$ such that when $0 < |x-c| < \delta_f$ $|f(x) - L|<\epsilon_f$
(for any $\epsilon_f > 0$)
and a $\delta_g$ sucht that when $0 < |x-c| < \delta_g$ $|g(x) - M| < \epsilon_g$ (for any $\epsilon_g > 0$).

Then if we look for a $\delta = \min\left\{\delta_f, \delta_g \right\}$ such that
$$
\left| \left(f(x)+g(x)\right) - \left(L+M\right) \right| \leq
\left|f(x) - L \right| + \left| g(x) - M \right| < \epsilon_f + \epsilon_g = \epsilon
$$

If you notice, this is pretty much the same sort of logic we used to prove the Algebraic Limit Theorem, so we could
have a guess for what the proof for the next bit could be.

\item Repeat (a) and (b) for Corollary 4.2.4 part (iii).

The proof using the Sequential Criterion for Functional Limits is essentially the same as in part (a).
(You should definetely write it out or read it out loud though!)
So let's carry on with the proof without it.

Similar to what we did while proving the Algebraic Limit Theorem, let's work backwards from what we want.

\begin{align*}
\left| f(x)g(x) - LM \right| &=  \left| f(x)g(x) - Lg(x) + Lg(x) - LM \right| \\
&\leq \left| f(x)g(x) - Lg(x) \right| + \left| Lg(x) - LM \right| \\
&= |g(x)| \left| f(x) - L \right| + |L|\left| g(x) - M \right|
\end{align*}

Again, we want to find the "worst case scenario" for $g(x)$.
And since $g(x_n)$ is a convergent sequence, then it will have some bound $M$.
If we also recall our $\delta_f$ and $\delta_g$ from part (b), then we have

\begin{align*}
\left| f(x)g(x) - LM \right| &\leq |g(x)| \left| f(x) - L \right| + |L|\left| g(x) - M \right| \\
&\leq M \left| f(x) - L \right| + |L|\left| g(x) - M \right| \\
&< |M| \epsilon_f + |L| \epsilon_g \\
&= |M| \left( \frac{\epsilon}{2|M|} \right) + |L|\left( \frac{\epsilon}{2|L|} \right) = \epsilon
\end{align*}

At the end there, we went ahead and figured out how to define $\epsilon_f$ and $\epsilon_g$ in terms of some arbitrary $\epsilon$
that could be used for the entire thing.

\end{enumerate}



%%%%%%%%%%%%%%%%%%%%%%%%%
\textbf{4.2.2}
\\

For each stated limit, find the largest possible $\delta$-neighborhood that is a proper response to the $\epsilon$-challenge.

\begin{enumerate}[(a)]
\item $\lim_{x\rightarrow 3} \left( 5x - 6 \right) = 9$, where $\epsilon = 1$.

We are looking for a $\delta$ such that when $0 < |x-3| < \delta$, $|5x -6 -9| = |5x- 15|= |5||x-3| = 5|x-3| < 1$.

If we choose $\delta = 1/5$, then $5|x-3| < 5\delta = 1 = \epsilon$.

\item $\lim_{x\rightarrow 4} \sqrt{x} = 2$, where $\epsilon = 1$.

We are looking for a $\delta$ such that when $0 < |x-4| < \delta$, $|\sqrt{x}-2| < \epsilon$.

One way to try this one out would be not note that
$$
|\sqrt{x}-2| = \frac{|x-4|}{|\sqrt{x}+2|} \leq \frac{|x-4|}{2} < \frac{\delta}{2}
$$

So we could choose $\delta = 2$ and have a proper response to our $\epsilon = 1$ challenge.
But because we used an inequality, $\delta = 2$ is not the largest possible $\delta$-neighborhood available.

After doing some internet research, we saw no better answer than to proceed with some numerical experiments.
We are looking for a $\delta$ that will put us plus or minus 1 from $y = \sqrt{x} = 2$, so $1 < y = \sqrt{x} < 3$
or $1 < x < 9$.
This last expression is equivalent to $4-\delta < x < 4+\delta$ or $-(\delta +4) < x < \delta + 4$.
Meaning that we have two options 3 or 5 (do the algebra to solve for $\delta$ using the last expression or just count using $1 < x < 9$).

Now, we pick the smallest of the two possible values for $\delta$ because that one will give us an entire $V_\delta (c)$ that will result
in $|\sqrt{x} - c| < \epsilon$ (imagine the graph - neighborhoods are symmetric so you ought to avoid a neighborhood that will give you $x$
values that will put you outside of the desired $\epsilon$ tolerance).

Numerically, if we chosed the largest value for delta, $\delta = 5$, then $0 < |x-4| < 5$ implies $-5 < x-4 < 5$ which means that $x$ could have any value
$-1 < x < 9$, and $-1$ is not a valid value in this case.

This analysis was based on
\href{https://math.libretexts.org/Bookshelves/Calculus/Calculus_3e_(Apex)/01%3A_Limits/1.02%3A_Epsilon-Delta_Definition_of_a_Limit}{Calculus 3e Apex: Epsilon-Delta Definition of a Limit}


\item $\lim_{x\rightarrow \pi} [[x]] = 3$, where $\epsilon = 1$.
(The function $[[x]]$ returns the greatest integer less than or ewual to $x$.)

Once again, we are looking for a $\delta$ such that when $0 < |x- \pi| < \delta$, $|[[x]] - 3| < \epsilon = 1$.

Doing a bit of thinking, any $x \in (2,5)$ will result in $[[x]] = 2, 3, 4$.
All of these values are within a distance of 1 from 3.
If we tried then $|2-\pi|$ or $|5-\pi|$ however, we would have something like $|[[2.001]]-3|$ or $|[[4.999]]-3|$
which is are not strictly smaller than 1.

Because of the nature of $[[x]]$ (you should draw it), the way to narrow our domain and stay some distance less than one unit
from $3$ is to have $x$ such that $x\in (3,4)$.
Specifically, the largest $\delta$-neighborhood would be $\pi - 3$, since any value greater than that would put $x$ in the domain of
$x\in (2,3)$ which would make $[[x]]=2$.

\item $\lim_{x\rightarrow \pi} [[x]]$, where $\epsilon = 0.01$.

Same as above: $\delta = \pi - 3$.

\item $\lim_{x\rightarrow 0} x^3 = 0$

A $\delta$ such that when $0 < |x-0| = |x| < \delta$ $|x^3 - 0| = |x|^3 < \epsilon$ for every $\epsilon > 0$
means that we can choose $\delta = \epsilon^{1/3}$.

\item $\lim_{x\rightarrow 2} x^3 = 8$

A $\delta$ such that when $0 < |x-2| < \delta$ $|x^3 - 8| < \epsilon$ for every $\epsilon > 0$.

Following Example 4.2.2 (ii), we can agree that $|x-2|<1$, so $x=1,3$.
Then we can factor $x^3 -8$ into $(x-2)(x^2 + 2x + 4)$ if we try $x=1$ then $x^2 + 2x + 4 = 7$.
If we try $x=3$, $x^2 + 2x + 4 = 19$.
Out of these two options, choosing 7 would lead us to chose $\delta = \epsilon /7$, which is a better upper bound than $\epsilon / 19$.
So $\delta = \min(1, \epsilon/7)$ leads us to $|x-2| |x^2 +2x + 4| = \frac{\epsilon}{7} \cdot 7 = \epsilon$

\end{enumerate}



%%%%%%%%%%%%%%%%%%%%%%%%
\textbf{4.2.3}
\\

Review the defintion of Thomae's function $t(x)$ from Section 4.1.

The Thomae function is defined as
$$
t(x) =
\begin{cases} 
    1   & x = 0 \\
    1/n & x=m/n \in \mathbb{Q} \setminus \{0\} \text{ is in lowest terms with } n>0 \\
    0   & x \not\in \mathbb{Q} 
\end{cases}
$$

\begin{enumerate}[(a)]
\item Construct three different sequences $(x_n)$, $(y_n)$, and $(z_n)$, each of which converges to 1 without using 1 as a term in
the sequence.

$(x_n) = n/(n+1)$, $(y_n) = (n+1)/n$, and $(z_n) = 1 + 1/n^2$

\item Now, compute $\lim t(x_n)$, $\lim t(y_n)$, and $\lim t(z_n)$.

Writing out a couple terms for each: if
$(x_n) = \left\{ \frac{1}{2}, \frac{2}{3}, \frac{4}{3}, \frac{4}{5}, \ldots , \frac{99}{100}, \frac{100}{101}, \ldots \right\}$, then
$t(x_n) = \left\{ 1, \frac{1}{2}, \frac{1}{3}, \frac{1}{4}, \ldots , \frac{1}{99}, \frac{1}{100}, \ldots \right\}$.

If $(y_n) = \left\{\frac{2}{1}, \frac{3}{2}, \frac{4}{3}, \frac{5}{4}, \frac{6}{5}, \ldots , \frac{10}{9}, \frac{11}{10}, \ldots \frac{100}{99}, \frac{101}{100}, \ldots \right\}$, then
$t(y_n) = \left\{ 1, \frac{1}{2}, \frac{1}{3}, \frac{1}{4}, \ldots , \frac{1}{99}, \frac{1}{100}, \ldots \right\} = t(x_n)$.

If $(z_n) = \left\{1+\frac{1}{1}, 1+\frac{1}{4}, 1+\frac{1}{9}, \ldots , 1+\frac{1}{100}, \ldots \right\}$, then
$t(z_n) = t(y_n) = t(z_n)$.

Thus we have $\lim t(x_n) = \lim t(y_n) = \lim t(z_n) = 0$.

\item Make an educated conjecture for $\lim_{x\rightarrow 1} t(x)$, and use Definition 4.2.1B to verify the claim.
(Given $\epsilon > 0$, consider the set of points $\{ x\in\mathbb{R} : t(x) \geq \epsilon \}$.
Argue that all the points in this set are isolated.)

Our claim will be that $L=0$ when $x\rightarrow 1$.
Which means that for every $V_{\epsilon} (L)$ there is a $V_{\delta} (1)$ such that for all $x \in V_{\delta} (1)$, $f(x) \in V_{\epsilon} (L)$.
Remeber that this is equivalent to saying that for every $\epsilon >0$, there exist a $\delta$ such that when $0 < |x-1| < \delta$,
$|t(x)| < \epsilon$.

Remeber, that we need to find a $\delta$ for the $\epsilon$ challenge.
First, we consider some arbitrary $\epsilon > 0$ and some $x in \mathbb{Q}$.
So $x = m/n$ and $t(x) = 1/n$.
Then $0 < |x-1| = |\frac{m}{n} - \frac{n}{n}| = |\frac{m-n}{n}| < \delta$ and that entails that $1/n < \epsilon$.
Though notice that $1/n \leq |x-1| = |\frac{m-n}{n}| < \delta$.
So we can set $\delta = \epsilon$.

\end{enumerate}



%%%%%%%%%%%%%%%%%%%%%
\textbf{4.2.4}
\\

Consider the reasonable but erroneous claim that
$$
\lim_{x\rightarrow 10} 1/[[x]] = 1/10.
$$

\begin{enumerate}[(a)]
\item Find the largest $\delta$ that represents a proper response to the challenge $\epsilon = 1/2$.

\item Find the largest $\delta$ that represents a proper response to the challenge $\epsilon = 1/50$.

\item Find the largest $\epsilon$ challenge for which there is no suitable $\delta$ response possible.
\end{enumerate}